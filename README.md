# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é PDF –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤

–≠—Ç–æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, extract_clean_layers.py, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ï–≥–æ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ–µ–≤ (Optional Content Groups - OCG) –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª PDF, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ —Å–ª–æ–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

## üõ†Ô∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç—Å—è

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—É—é —É—Ç–∏–ª–∏—Ç—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Python.
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–∫ PyMuPDF (fitz), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PDF-—Ñ–∞–π–ª–∞–º–∏.

## –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ —É –≤–∞—Å Python –≤ —Å–∏—Å—Ç–µ–º–µ.
–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ PyMuPDF –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø–∞–∫–µ—Ç–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º pip –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: ```bash
pip install pymupdf```

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é üöÄ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –¥–≤–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–∞.
–ü—É—Ç—å –∫ PDF-–¥–æ–∫—É–º–µ–Ω—Ç—É, —Ç—Ä–µ–±—É—é—â–µ–º—É —Ä–∞–∑–±–∏–µ–Ω–∏—è.
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç).

## –®–∞–±–ª–æ–Ω –∫–æ–º–∞–Ω–¥—ã:

```bash
python extract_clean_layers.py <–ø—É—Ç—å_–∫_–∏—Å—Ö–æ–¥–Ω–æ–º—É_pdf> <–ø–∞–ø–∫–∞_–¥–ª—è_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è>
```


## üí° –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –∏—Å—Ö–æ–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `document.pdf`, –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `output_pages`.

```bash
python extract_clean_layers.py document.pdf output_pages
```


–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞, –≤ –ø–∞–ø–∫–µ output_pages –≤—ã –Ω–∞–π–¥–µ—Ç–µ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã —Å –∏–º–µ–Ω–∞–º–∏ –≤–∏–¥–∞ `page_1.pdf`, `page_2.pdf` –∏ –¥–∞–ª–µ–µ.
